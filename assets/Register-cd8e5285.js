import{d as g,A as p,v,u as w,b as n,f as e,e as x,w as y,F as b,y as k,D as V,B as i,C as c,r as U,o as d,h as B,i as f,l as C,m as L,I as N}from"./index-e31bf4cb.js";const S={class:"auth-page"},q={class:"container page"},A={class:"row"},D={class:"col-md-6 offset-md-3 col-xs-12"},E=e("h1",{class:"text-xs-center"}," 登錄 ",-1),F={class:"text-xs-center"},R={class:"error-messages"},M=["onSubmit"],P={class:"form-group"},T={class:"form-group"},I={class:"form-group"},Y=["disabled"],G=g({__name:"Register",setup(j){const u=p(null),s=v({username:"",email:"",password:""}),{updateUser:_}=w(),a=p(),h=async()=>{var l,t;if(a.value={},!!((l=u.value)!=null&&l.checkValidity()))try{const r=await C.users.createUser({user:s});_(r.data.user),await L("global-feed")}catch(r){N(r)&&(a.value=(t=r.error)==null?void 0:t.errors)}};return(l,t)=>{const r=U("AppLink");return d(),n("div",S,[e("div",q,[e("div",A,[e("div",D,[E,e("p",F,[x(r,{name:"login"},{default:y(()=>[B(" 已經有帳號了? ")]),_:1})]),e("ul",R,[(d(!0),n(b,null,k(a.value,(o,m)=>(d(),n("li",{key:m},f(m)+" "+f(o?o[0]:""),1))),128))]),e("form",{ref_key:"formRef",ref:u,onSubmit:V(h,["prevent"])},[e("fieldset",P,[i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.username=o),class:"form-control form-control-lg",type:"text",required:"",placeholder:"Your Name"},null,512),[[c,s.username]])]),e("fieldset",T,[i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.email=o),class:"form-control form-control-lg",type:"email",required:"",placeholder:"Email"},null,512),[[c,s.email]])]),e("fieldset",I,[i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.password=o),class:"form-control form-control-lg",type:"password",minLength:8,required:"",placeholder:"Password"},null,512),[[c,s.password]])]),e("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:!(s.email&&s.username&&s.password)}," 注冊 ",8,Y)],40,M)])])])])}}});export{G as default};
